<app-header></app-header>

<div class="sessions-container">
  <h1><button (click)="refresh()" class="refresh_button">Sessions List</button></h1>

  <div class="filter-block">
    <label for="filterInput">Filter by File Name:</label>
    <input type="text" id="filterInput" [(ngModel)]="filterFileName">
    <button (click)="filteredSessions()" class="filter-button">filter</button>
    <button (click)="resetFilter()" class="reset-filter-button">reset</button>
  </div>

  <table class="sessions-table">
    <thead>
    <tr>
      <th class="table-header">ID</th>
      <th class="table-header">Upload Time</th>
      <th class="table-header">File Name</th>
      <th class="table-header">Is Downloaded</th>
      <th class="table-header">Owner</th>
      <th class="table-header">auth</th>
      <th class="table-header">.session</th>
      <th class="table-header">delete</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let session of sessionsForShow" class="table-row">
      <td class="table-cell">{{ session.id }}</td>
      <td class="table-cell">{{ session.uploadTime }}</td>
      <td class="table-cell">{{ session.fileName }}</td>
      <td class="table-cell">{{ session.isDownload }}</td>
      <td class="table-cell">{{ session.owner }}</td>
      <td class="table-cell"><button *ngIf="session.haveAuth === 'yes'" (click)="downloadAuth(session.id, session.fileName)" class="download-button">auth</button></td>
      <td><button (click)="downloadSession(session.id, session.fileName)" class="download-button">download</button></td>
      <td><button (click)="deleteSessionById(session.id)" class="download-button">del</button></td>
    </tr>
    </tbody>
  </table>
  <div class="pagination-container">
    <button (click)="prevPage()" class="pagination-page-button"><</button>
    <button (click)="nextPage()" class="pagination-page-button">></button>
  </div>
</div>
